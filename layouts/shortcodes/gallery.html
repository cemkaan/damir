<link rel="stylesheet" href="/css/glightbox.min.css" />

{{/* TODO:get page resources https://gohugo.io/content-management/image-processing/ */}}

<div id="gal">
  {{- with (.Get "dir") -}}
   {{- $files := readDir (print "/static/" .) }} 
   {{- range $files -}} 
    {{- $imageUrl := print ($.Get "dir") "/" .Name | relURL }} 
    {{- $thumbUrl := print ($.Get "dir") "/th/" .Name | relURL }}
    {{ $fileName := (strings.TrimSuffix ".jpg" .Name) }} 
     {{ if ne $fileName "th" }}
  <a href="{{ $imageUrl }}" class="glightbox3" data-gallery="gallery1">
    <img src="{{ $thumbUrl }}" alt="{{ $fileName }}" />
    <div class="num text-center">{{ $fileName }}</div>
  </a>
     {{ end }} 
   {{- end }} 
  {{- end }}
</div>

<script src="/js/glightbox.min.js"></script>
<script>
  var lightbox = GLightbox();
  lightbox.on("open", (target) => {});
  var lightboxInlineIframe = GLightbox({
    selector: ".glightbox3",
  });
</script>
